<html>
    <head>
        <meta charset="utf-8"/>
    </head>
    <body>
        <script>
            var CAL_GREGORIAN = 0
            var CAL_JULIAN = 1
            var CAL_MILANKOVIC = 2
            var CAL_JEWSISH = 3
            var CAL_SOLAR_HIJRI = 4
            var CAL_ISLAMIC_CIVIL = 5;
        </script>
        <p id="p"></p>
        <script src="dist/cl-core.js"></script>
        <script src="dist/cl-gregorian.js"></script>
        <script src="dist/cl-islamic-civil.js"></script>
        <script src="dist/cl-jewish.js"></script>
        <script src="dist/cl-julian.js"></script>
        <script src="dist/cl-math.js"></script>
        <script src="dist/cl-milankovic.js"></script>
        <script src="dist/cl-solar-hijri.js"></script>
        <script type="text/javascript" language="javascript">
            // to_date(CAL_SOLAR_HIJRI, 2134234, d);
            // console.log(JSON.stringify(d));
            
            function log(s, s2) {
                document.getElementById("p").innerHTML += "<strong>"
                    + s + ":</strong> " + s2 + "<br />";
            }
            var c = new Calendar("sh", new Date());

            function test(a, b) {
                var c1 = c.convert(a)
                var c2 = c.convert(b).convert(a);
                log("test " + a + " to " + b, 
                    c1.toString() + " [] " + c2.toString()
                    + "  => " +
                    (c1.julianDay() === c2.julianDay()))
            }

            function convert(ca) {
                log("convert date to " + ca, c.convert(ca).toString())
            }
            
            log("Calendars", JSON.stringify(__calendars_list))
            log("date", c.toString());
            log("is valid", c.isValid());
            log("is leap", c.isLeap());
            log("jdn", c.julianDay());
            log("month in year", c.monthsInYear(1397));
            log("days in month", c.daysInMonth(1397, 12));
            log("days in year", c.daysInYear(1397));
            log("is", c.convert("is").toString());
            log("c", new Calendar("sh", c.julianDay()).toString())

            log("==============", "")
            for (var i = 0; i < __calendars_list.length; i++)
                convert(__calendars_list[i])

            log("==============", "")
            for (var i = 0; i < __calendars_list.length; i++)
                for (let j = 0; j < __calendars_list.length; j++) {
                    if (__calendars_list[i] != __calendars_list[j])
                    test(__calendars_list[i], __calendars_list[j])
                }

            var d = new Date();
            for (var i = 0; i < __calendars_list.length; i++) {
                var cl_name = __calendars_list[i];
                var converted_cal = new Calendar(cl_name, d);
                log("Convert to " + cl_name, converted_cal.toString())
            }
        </script>
    </body>
</html>
